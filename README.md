# ASX & AUD/USD Market Analysis Project Readme

## Project Overview
This project aims to analyze the "entanglement," potential "hedging relationship," and the predictability of "future daily returns" between the Australian stock market (ASX) and the AUD/USD exchange rate. The analysis combines traditional statistical methods (such as Granger Causality, MVHR, VAR models) and various machine learning models.

## Scripts Description and Execution Order
This project includes the following main Python scripts. Please execute them **strictly in the order listed**:

1.  **`scrapeFinancailDataFromYF.py`**:
    * **Function**: Downloads historical daily price data for ASX200 (`^AXJO`) and AUD/USD (`AUDUSD=X`) from Yahoo Finance.
    * **Output**: Generates `asx_data.csv` and `AUD/USD_data.csv` in the same directory as the script.
    * **Execution**: `python scrapeFinancailDataFromYF.py`

2.  **`creatingFeatures.py`**:
    * **Function**: Loads the raw price data CSV files (`asx_data.csv` and `audusd_data.csv` - **note filename consistency, see important note below**) generated by `scrapeFinancailDataFromYF.py`, preprocesses the data, and generates over 100 technical indicator features for each market using the `pandas_ta` library. Handles missing values.
    * **Input**: `asx_data.csv`, `audusd_data.csv` (expected to be in the same directory as this script).
    * **Output**: Generates `asx_data_features.csv` and `audusd_data_features.csv` containing the features, in the same directory as the script.
    * **Execution**: `python creatingFeatures.py`

3.  **`mergeData.py`**:
    * **Function**: Loads the two feature files generated by `creatingFeatures.py`, adds market prefixes (`asx_`, `audusd_`) to column names, merges them by date, and creates an initial target variable (next-day log return for AUD/USD).
    * **Input**: Hardcoded paths in the script: `/mnt/c/Users/ryan0/Python/Machine learing/asx_data_features.csv` and `/mnt/c/Users/ryan0/Python/Machine learing/audusd_data_features.csv`. **Please verify these paths are correct before execution, modify them in the script if necessary, or ensure the files are at these specific locations.**
    * **Output**: Generates `merged_data_with_target.csv` in the same directory as the `mergeData.py` script.
    * **Execution**: `python mergeData.py`

4.  **`functionAdv.py`** (Main Analysis Script):
    * **Function**: Loads the `merged_data_with_target.csv` file generated by `mergeData.py`. Based on this data, it calculates daily log returns and next-day log return targets for both ASX and AUD/USD. It performs Granger Causality tests, MVHR analysis, VAR model analysis (including model fitting, summary output, and forecast output), and a complete predictive pipeline involving multiple machine learning models (including **Ridge Regression, Support Vector Regression (SVR), Random Forest, and Gradient Boosting Machines**). This pipeline integrates feature scaling (`StandardScaler`), feature selection based on `SelectKBest`, model training, nested cross-validation, hyperparameter tuning, performance evaluation, and feature importance analysis. All analysis results are saved to a specified directory.
    * **Input**: Defined by the `MERGED_FEATURES_TARGET_FILE` variable in the script, currently set to `'/mnt/c/Users/ryan0/Python/Machine learing/merged_data_with_target.csv'`. **Please check and ensure this path is correct before execution.**
    * **Output**: All main analysis result files are saved to the directory specified by the `SAVE_DIR` variable in the script (currently `"/mnt/c/Users/ryan0/Python/Machine learning analysis data/"`). Key output files include:
        * `granger_causality_results.txt`
        * `mvhr_results.txt`
        * `var_model_summary.txt`
        * `var_model_forecast.csv`
        * `all_model_performance_summary_integrated_plus_gbm.csv`
        * `all_model_fold_details_integrated_plus_gbm.csv`
        * `learning_curves_integrated_plus_gbm/` directory (containing learning curve images)
    * **Execution**: `python functionAdv.py` (ensure your Python virtual environment, e.g., `(.venv)`, is activated if you are using one).

## Dependencies
To run these scripts, you need to have the following main Python libraries installed:
* pandas
* numpy
* matplotlib
* statsmodels
* scikit-learn
* yfinance (for `scrapeFinancailDataFromYF.py`)
* pandas_ta (for `creatingFeatures.py`)

It is recommended to install these dependencies in a Python virtual environment:
```bash
pip install pandas numpy matplotlib statsmodels scikit-learn yfinance pandas_ta
