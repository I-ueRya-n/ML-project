# ASX & AUD/USD Market Analysis Project Readme

# Project Overview
This project aims to analyze the "entanglement," potential "hedging relationship," and the predictability of "future daily returns" between the Australian stock market (ASX) and the AUD/USD exchange rate. The analysis combines traditional statistical methods (such as Granger Causality, MVHR, VAR models) and various machine learning models.

## Scripts Description and Execution Order
This project includes the following main Python scripts. Please execute them strictly in the order listed:

### `scrapeFinancailDataFromYF.py`:
* **Function**: Downloads historical daily price data for ASX200 (`^AXJO`) and AUD/USD (`AUDUSD=X`) from Yahoo Finance.
* **Output**: Generates `asx_data.csv` and `AUD/USD_data.csv` in the same directory as the script.
* **Execution**: `python scrapeFinancailDataFromYF.py`

### `creatingFeatures.py`:
* **Function**: Loads the raw price data CSV files (`asx_data.csv` and `audusd_data.csv` - note filename consistency, see important note below) generated by `scrapeFinancailDataFromYF.py`, preprocesses the data, and generates over 100 technical indicator features for each market using the `pandas_ta` library. Handles missing values.
* **Input**: `asx_data.csv`, `audusd_data.csv` (expected to be in the same directory as this script).
* **Output**: Generates `asx_data_features.csv` and `audusd_data_features.csv` containing the features, in the same directory as the script.
* **Execution**: `python creatingFeatures.py`

### `mergeData.py`:
* **Function**: Loads the two feature files generated by `creatingFeatures.py`, appends market prefixes (`asx_`, `audusd_`) to column names, merges them by date, and makes an initial target variable (next-day log return for AUD/USD).
* **Input**: Hardcoded paths in the script: `/mnt/c/Users/ryan0/Python/Machine learing/asx_data_features.csv` and `/mnt/c/Users/ryan0/Python/Machine learing/audusd_data_features.csv`. Please ensure those paths are accurate before running. Otherwise, change the paths accordingly inside the script or make sure that the files reside in these specific locations.
* **Output**: `merged_data_with_target.csv`, which gets generated inside the same directory where `mergeData.py` lives.
* **Execution**: `python mergeData.py`

### `functionAdv.py` (Main Analysis Script):
* **Function**: Loads the `merged_data_with_target.csv` file generated by `mergeData.py`. Based on this, it calculates daily log returns and next-day log return targets of both ASX and AUD/USD. It runs Granger Causality Testing, MVHR Analysis, the VAR approach Analyse (Fit Model, Summary Output, and Forecast Output), and all kinds of predictive pipeline integration with several ML techniques (Ridge Regression, SVR, Random Forest, Gradient Boosting Machines). In detail, the predictive pipeline integrates feature scaling (`StandardScaler`), feature selection based on `SelectKBest`, model training, nested cross-validation, hyperparameter tuning, performance evaluation, and feature importance analysis. All results of analyses get saved in the specified directory.
* **Input**: Defined by the `MERGED_FEATURES_TARGET_FILE` variable in the script, it is currently set to `'/mnt/c/Users/ryan0/Python/Machine learing/merged_data_with_target.csv'`. Before execution, make sure this path is correct.
* **Output**: All the output files of main analysis are saved to the directory specified by the `SAVE_DIR` variable in the script (currently `"/mnt/c/Users/ryan0/Python/Machine learning analysis data/"`). Important output files, among others, include:
    * `granger_causality_results.txt`
    * `mvhr_results.txt`
    * `var_model_summary.txt`
    * `var_model_forecast.csv`
    * `all_model_performance_summary_integrated_plus_gbm.csv`
    * `all_model_fold_details_integrated_plus_gbm.csv`
    * `learning_curves_integrated_plus_gbm/`
* **Execution**: `python functionAdv.py` (make sure that your virtual environment is activated whenever you are using one, for example, `(.venv)`).

## Dependencies
To run these scripts, you need to have the following main Python libraries installed:
* pandas
* numpy
* matplotlib
* statsmodels
* scikit-learn
* yfinance (for `scrapeFinancailDataFromYF.py`)
* pandas_ta (for `creatingFeatures.py`)

It is recommended to install these dependencies in a Python virtual environment:
```bash
pip install pandas numpy matplotlib statsmodels scikit-learn yfinance pandas_ta
